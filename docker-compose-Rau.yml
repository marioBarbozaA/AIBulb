version: '3'
services:
  ## Shards
  Mex_Sur:
    image: mongo
    container_name: Mex_Sur #shard-01-node-a
    command: mongod --port 27017  --shardsvr --replSet "Raulis"
    ports:
      - 27120:27020
    networks:
      OurNetwork:
        ipv4_address: 10.0.0.6

  Mex_oeste:
    image: mongo
    container_name: Mex_oeste #shard-01-node-b
    command: mongod --port 27017  --shardsvr --replSet "Raulis"
    ports:
      - 27121:27021
    networks:
      OurNetwork:
        ipv4_address: 10.0.0.7

  Mex_Este:
    image: mongo
    container_name: Mex_Este #shard-01-node-c
    command: mongod --port 27017  --shardsvr --replSet "Raulis"
    ports:
      - 27122:27022
    networks:
      OurNetwork:
        ipv4_address: 10.0.0.8
    
networks:
  OurNetwork:
    driver: bridge
    ipam:
      config:
        - subnet: 10.0.0.0/27